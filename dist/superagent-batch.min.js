function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _get=function(t,e,n){for(var o=!0;o;){var r=t,u=e,i=n;a=p=s=void 0,o=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,u);if(void 0!==a){if("value"in a)return a.value;var s=a.get;return void 0===s?void 0:s.call(i)}var p=Object.getPrototypeOf(r);if(null===p)return void 0;t=p,e=u,n=i,o=!0}};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("url")):"function"==typeof define&&define.amd?define(["url"],e):t.superagentBatch=e(t.url)}(this,function(t){"use strict";var e="1439751438138",n="--",o="\r\n",r="HTTP/1.1",u="Content-Type",i=function(e){return t.parse(e)},a=function(t,a){var s=[],p=i(t.url),c=p.pathname,l=p.host,f=t._query.length?"?"+t._query.join("&"):"";if(s.push(n+e),s.push("Content-Type: application/http; msgtype=request"),s.push(""),s.push(t.method+" "+c+f+" "+r),null===l&&!window)throw"Couldn't determine host name for batched request";return s.push("Host: "+(l||window.location.host)),Object.keys(t.header).forEach(function(e){return s.push(e+": "+t.header[e])}),s.push(""),t._data&&s.push(t.header[u]&&a[t.header[u]]?a[t.header[u]](t._data):a(t._data)),s.push(""),s.join(o)},s=function(t,r){var u=[],i=function(t){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,t),e}(t),s=i.Request.prototype.end;return i.endBatch=function(t){var p=this;i.Request.prototype.end=s,console.log(u);var c=u.map(function(t){return a(t,p.serialize)});c.push(n+e+n),console.log(c),r.send(c.join(o)),r.end(function(t,e){})},i.Request.prototype.end=function(t){return this._callback=t,u.push(this),i},i},p=function(t){return t.Request.prototype.startBatch=function(){return this.set("Content-Type","multipart/mixed; boundary="+e),s(t,this)},t},c=p;return c});
//# sourceMappingURL=superagent-batch.min.js.map